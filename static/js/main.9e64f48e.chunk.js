(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a.p+"static/media/no-image.398a6fa0.jpg"},21:function(e,t,a){e.exports=a(47)},28:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),s=a.n(c),i=(a(27),a(28),a(7)),l=a.n(i),o=a(8),m=a(2),u=a(3),d=a(5),p=a(4),v=a(6),h=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={term:""},a.onFormSubmit=function(e){e.preventDefault(),a.props.onFormSubmit(a.state.term),a.setState({term:""})},a.onInputChange=function(e){a.setState({term:e.target.value})},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{className:"form-inline",onSubmit:this.onFormSubmit},r.a.createElement("div",{className:"w-100 d-flex justify-content-center"},r.a.createElement("input",{className:"form-control w-50",type:"text",value:this.state.term,placeholder:"Search movies",onChange:this.onInputChange}),r.a.createElement("button",{type:"submit",className:"btn btn-primary ml-2"},"Submit"))))}}]),t}(r.a.Component),b=a(9),f=a.n(b),E=f.a.create({baseURL:"https://api.themoviedb.org/3"}),y=a(10),w=a.n(y),g=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){a.props.handleClick(a.props.movie)},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.movie,t="https://image.tmdb.org/t/p/w500";return null===e.poster_path?t=w.a:t+=e.poster_path,r.a.createElement("div",{className:"card my-4 movie-card"},r.a.createElement("img",{className:"card-img-top",src:t,alt:"Card cap"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},e.title),r.a.createElement("button",{onClick:this.handleClick,className:"btn btn-primary"},"More Info and Trailers")))}}]),t}(r.a.Component),N=function(e){var t=e.videos.map(function(e){var t="https://www.youtube.com/embed/".concat(e.id.videoId);return r.a.createElement("div",{className:"card mb-4",key:e.id.videoId},r.a.createElement("div",{className:"embed-responsive embed-responsive-16by9"},r.a.createElement("iframe",{title:e.snippet.title,className:"embed-responsive-item",src:t,allowFullScreen:!0}))," ",r.a.createElement("div",{className:"card-footer"},r.a.createElement("p",{className:"mb-0"},e.snippet.title)))});return r.a.createElement("div",{className:"trailers"},t)},j=function(e){var t=e.movieSelected,a="https://image.tmdb.org/t/p/w500";return null===t.poster_path?a=w.a:a+=t.poster_path,r.a.createElement("div",{className:"jumbotron mt-4 pt-2 bg-light"},r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("h3",{className:"my-4 mx-auto border-bottom border-top w-50 bg-info text-white"},"Info and Trailers"),r.a.createElement("button",{onClick:e.closeDetails,className:"my-4 close",type:"button","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-4 p-0"},r.a.createElement("div",{className:"card border-info mx-auto mb-2"},r.a.createElement("img",{src:a,className:"card-img-top",alt:"..."}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},t.title),r.a.createElement("p",{className:"card-text font-weight-bold"},"Release Date : ",t.release_date),r.a.createElement("p",{className:"card-text"},t.overview)))),r.a.createElement("div",{className:"col-lg-8 p-0"},r.a.createElement(N,{videos:e.videos}))))},S=f.a.create({baseURL:"https://www.googleapis.com/youtube/v3"}),O="AIzaSyBIdZzcIrExUP9CMwngK-EhZiCgyA2TpAQ",k=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showDetails:!1,movieSelected:[],videos:[]},a.getVideo=function(){var e=Object(o.a)(l.a.mark(function e(t){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get("/search",{params:{part:"snippet",key:O,maxResults:5,q:t+" trailer"}});case 2:n=e.sent,a.setState({videos:n.data.items});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.closeDetails=function(){a.setState({showDetails:!a.state.showDetails})},a.handleClick=function(e){a.getVideo(e.title),a.setState({movieSelected:e,showDetails:!a.state.showDetails})},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(){this.setState({showDetails:!1})}},{key:"render",value:function(){var e=this,t=this.props.moviesData.map(function(t){return r.a.createElement("div",{key:t.id},r.a.createElement(g,{handleClick:e.handleClick,movie:t}))});return r.a.createElement("div",null,this.state.showDetails?r.a.createElement("div",null,r.a.createElement(j,{movieSelected:this.state.movieSelected,videos:this.state.videos,closeDetails:this.closeDetails})):r.a.createElement("div",{className:"card-deck justify-content-center"},t))}}]),t}(r.a.Component),C="31e3c537946929f18904b39eeb3f7e1a",D=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={moviesData:[]},a.onFormSubmit=function(){var e=Object(o.a)(l.a.mark(function e(t){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/search/movie",{params:{api_key:C,query:t}});case 2:n=e.sent,a.setState({moviesData:n.data.results});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container text-center"},r.a.createElement("h1",{className:"display-3 mb-2"},"MOVIES X"),r.a.createElement("p",null,"By Carlo Anselmi"),r.a.createElement(h,{onFormSubmit:this.onFormSubmit}),r.a.createElement(k,{moviesData:this.state.moviesData}))}}]),t}(r.a.Component);s.a.render(r.a.createElement(D,null),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.9e64f48e.chunk.js.map